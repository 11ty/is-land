---
layout: layout.html
title: Islands
---
<h1><a href="/demo.html">is-land</a></h1>

<p>A framework independent partial hydration islands architecture implementation using web components.</p>
<p>Features:</p>

<ul>
	<li>Easy to add to existing components</li>
	<li>Zero dependencies by default</li>
	<li>Small footprint</li>
	<li>Not tightly coupled to a server framework or site generator tool.</li>
	<li>Server-rendering (SSR) component examples available for SSR-friendly frameworks (Lit, Svelte, and Vue are provided)</li>
</ul>

<p>Examples:</p>
<ul>
	<li>Web Components (on this page)</li>
	<li><a href="demo-svelte.html">Svelte</a> (and SSR)</li>
	<li><a href="demo-vue.html">Vue (and petite-vue)</a> (and SSR)</li>
	<li><a href="demo-preact.html">Preact</a> (and SSR)</li>
	<li><a href="demo-lit.html">Lit</a> (and SSR)</li>
	<li><a href="demo-alpine.html">Alpine.js</a></li>
	<li><em>Experimental:</em> <a href="demo-image-loading.html">Image Loading</a></li>
	<li><em>Experimental:</em> <a href="demo-importmaps.html">Using import maps to simplify import URLs</a>. This is for-future-reference when <a href="https://caniuse.com/import-maps">browser support broadens</a>.
</ul>

<h2>Standalone</h2>

<p>This is a control to make sure the component initializes as expected without an island.</p>

<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>

<h2>Defaults</h2>

<p>These islands are eagerly loaded and initialized.</p>

<is-land>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<p>Gnarly nesting</p>

<is-land>
	<vanilla-web-component class="demo-component" custom-attribute some other attributes>
		Vanilla web component 1a
		<vanilla-web-component class="demo-component">Vanilla web component 1b</vanilla-web-component>
		Vanilla web component 1c
		<vanilla-web-component class="demo-component">Vanilla web component 1d</vanilla-web-component>
	</vanilla-web-component>
	<p>Testing A</p>
	<vanilla-web-component class="demo-component">Vanilla web component 2</vanilla-web-component>
	<p>Testing B</p>
	<vanilla-web-component class="demo-component">Vanilla web component 3</vanilla-web-component>
</is-land>

<h2>Scroll down</h2>

<hr style="height: 100vh">

<h2><code>on:visible</code></h2>
<is-land on:visible>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<h3>Works with &lt;details&gt;</h3>
<details>
	<summary>The child content in this &lt;details&gt; will not be initialized until you open it</summary>

	<is-land on:visible>
		<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
	</is-land>
</details>

<h2><code>on:visible</code> nested group</h2>

<p>Parent island has <code>on:visible</code> but none of the child components have an explicit loading condition. They will inherit the loading conditions of all of the ancestors.</p>

<is-land on:visible>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>

	Here’s a nested island:

	<is-land autoinit="petite-vue" import="https://unpkg.com/petite-vue@0.4.1/dist/petite-vue.es.js" v-scope="{ count: 0 }">
		Petite Vue
		<template data-island>
			<button @click="count++">⬆️</button>
			<button @click="count--">⬇️</button>
			<span v-html="count">0</span>
		</template>
	</is-land>
</is-land>

<h2><code>on:idle</code></h2>

<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>
<is-land on:idle>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<h2><code>on:interaction</code></h2>

<p>Requires one of: touchstart, click.</p>
<p>Note here that we used one parent island to group both of these components, and interacting with either initializes the whole group.</p>

<is-land on:interaction>
	<is-land autoinit="petite-vue" import="https://unpkg.com/petite-vue@0.4.1/dist/petite-vue.es.js" v-scope="{ count: 0 }">
		Petite Vue
		<template data-island>
			<button @click="count++">⬆️</button>
			<button @click="count--">⬇️</button>
			<span v-html="count">0</span>
		</template>
	</is-land>

	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<p>Use <code>on:interaction="mouseenter,focusin"</code> to override the events.</p>
<is-land on:interaction="mouseenter,focusin">
	<is-land autoinit="petite-vue" import="https://unpkg.com/petite-vue@0.4.1/dist/petite-vue.es.js" v-scope="{ count: 0 }">
		Petite Vue
		<template data-island>
			<button @click="count++">⬆️</button>
			<button @click="count--">⬇️</button>
			<span v-html="count">0</span>
		</template>
	</is-land>

	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<p>In this example we use a third party web component (<a href="https://github.com/zachleat/details-utils">&lt;details-utils&gt;</a>) without any code changes made to the component. Note that children here are maintained before and after initialization (e.g. click the summary to expand before init and it keeps that state after init).</p>

<is-land on:interaction import="./lib/details-utils.js">
	<button type="button" onclick="console.log('Click test')">Click test (log to console)</button>

	<details-utils close-click-outside>
		<details open>
			<summary>Toggle Menu (Default open: click outside to close after island initializes)</summary>
			<p>Note that interacting with content inside of the menu works without closing the menu.</p>
		</details>

		<details>
			<summary>Toggle Menu (Default closed: will toggle before island initializes)</summary>
			<p>Note that interacting with content inside of the menu works without closing the menu.</p>
		</details>
	</details-utils>
</is-land>

<h2><code>on:media</code></h2>
<h3>Viewport size</h3>
<p><code>on:media="(min-width: 64em)"</code></p>
<p>This only runs when the viewport is greater than or equal to 1024px wide: <code>on:media="(min-width: 64em)"</code></p>
<is-land on:media="(min-width: 64em)">
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<p>This only runs when the viewport is less than 1024px wide: <code>on:media="(max-width: 63.9375em)"</code></p>
<is-land on:media="(max-width: 63.9375em)">
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<h3>Reduced Motion</h3>
<p>This runs when the user prefers reduced motion: <code>on:media="(prefers-reduced-motion)"</code></p>

<is-land on:media="(prefers-reduced-motion)">
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<p>This runs when does not have a reduced motion preference: <code>on:media="(prefers-reduced-motion: no-preference)"</code></p>

<is-land on:media="(prefers-reduced-motion: no-preference)">
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<h2><code>on:save-data</code></h2>

<p>This runs when the user has <a href="https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/saveData">Save Data</a> enabled:</p>

<is-land on:save-data>
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<p><code>on:save-data="false"</code> This runs when the user does not have <a href="https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/saveData">Save Data</a> enabled:</p>

<is-land on:save-data="false">
	<vanilla-web-component class="demo-component">Vanilla web component</vanilla-web-component>
</is-land>

<h2>Controlling fallback content</h2>

<p>If you put child content in a &lt;template&gt; it will be JavaScript-only (no fallback). Use this to your advantage! You can mix and match &lt;template&gt; with other progressively enhanced content in the island.</p>

<is-land on:interaction>
	<form>
		<button type="button">Hydrate the island</button>
	</form>

	<vanilla-web-component class="demo-component">Vanilla web component (JS not required for fallback content)</vanilla-web-component>

	<template data-island>
		These are nested in a &lt;template&gt;:

		<vanilla-web-component class="demo-component">Vanilla web component (JS is required for fallback)</vanilla-web-component>

		<is-land autoinit="petite-vue" import="https://unpkg.com/petite-vue@0.4.1/dist/petite-vue.es.js" v-scope="{ count: 0 }">
			Petite Vue (JS is required for fallback):
			<template data-island>
				<button @click="count++">⬆️</button>
				<button @click="count--">⬇️</button>
				<span v-html="count">0</span>
			</template>
		</is-land>
	</template>
</is-land>

<p>Use the <code>ready</code> attribute on <code>&lt;is-land&gt;</code> (added when the island is hydrated) for additional styling!</p>
<is-land on:interaction id="demo-island-ready">
	<style>
	#demo-island-ready[ready] {
		font-weight: bold;
	}
	#demo-island-ready[ready] .emoji {
		display: none;
	}
	</style>

	<form>
		<button type="button">Hydrate the island</button>
	</form>

	<vanilla-web-component class="demo-component">
		When hydrated the text turns bold and the clock goes away
		<span class="emoji">⏰</span>
	</vanilla-web-component>
</is-land>

<p>Use <code>data-island="replace"</code> to replace the island content with the template. If more than one of these exists in an island, only the first is used.</p>

<is-land on:interaction>
	<form>
		<button type="button">Hydrate the island</button>
	</form>

	<p>This content is pre-JS. This is where your loading spinner goes 😈</p>
	
	<template data-island="replace">
		<vanilla-web-component class="demo-component">Vanilla web component (requires JS)</vanilla-web-component>
	</template>
</is-land>