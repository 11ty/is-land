<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<title></title>
		<link rel="stylesheet" href="demo-styles.css">

		<script type="importmap">
		{
			"imports": {
				"@11ty/island": "/islands.js",
				"lit": "https://ga.jspm.io/npm:lit@2.2.5/index.js"
			},
			"scopes": {
				"https://ga.jspm.io/": {
					"@lit/reactive-element": "https://ga.jspm.io/npm:@lit/reactive-element@1.3.2/development/reactive-element.js",
					"lit-element/lit-element.js": "https://ga.jspm.io/npm:lit-element@3.2.0/development/lit-element.js",
					"lit-html": "https://ga.jspm.io/npm:lit-html@2.2.5/development/lit-html.js"
				}
			}
		}
		</script>
		<script type="module">
		import "@11ty/island";

		import "./vanilla-web-component.js"; // eager, probably not typical

		// For testing
		// import "./lit-component.js";
		</script>
	</head>
	<body>
		<h1><a href="/demo.html">is-land</a> using Lit</h1>

		<h2>Standalone</h2>

		<p>This is a control to make sure the component initializes as expected without an island.</p>

		<vanilla-web-component>Vanilla web component</vanilla-web-component>

		<h2>Scroll down</h2>

		<hr style="height: 100vh">

		<p>You can use `script="./lit-component.js"` or `&lt;script type="module/island"&gt;`:</p>

		<is-land type="lit" on:visible script="./lit-component.js">
			This is a lit component:
			<lit-web-component name="Zach">Fallback content!</lit-web-component>
		</is-land>

		<is-land type="lit" on:visible id="lit-test">
			This is a lit component: <lit-other-web-component name="Friend">Fallback content!</lit-other-web-component>

			<script type="module/island">
			import {html, css, LitElement} from "lit";

			customElements.define('lit-other-web-component', class extends LitElement {
				// encapsulated styles!
				static styles = css`p { color: blue; margin: 0; }`;
			
				static properties = {
					name: {type: String},
				};

				render() {
					this.classList.add("test-c-finish");
					return html`<p>Hello, ${this.name || "Stranger"}!</p>`;
				}
			});
			</script>
		</is-land>
	</body>
</html>